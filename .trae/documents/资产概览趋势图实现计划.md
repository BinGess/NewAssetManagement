## 目标

* 在 Dashboard（资产概览）下方新增一张时间序列折线图：横轴为时间（日），纵轴为资产金额，展示总资产的变化趋势

* 图表美观、交互良好（平滑线、渐变填充、悬浮提示、颜色与主题一致）

## 组件选型

* 使用 ECharts（echarts + echarts-for-react），成熟稳定、视觉表现强、样式易定制

* 以动态导入方式在客户端渲染，避免 SSR 相关问题

## 后端数据接口

* 新增 `GET /api/trend` 返回近 30 天趋势数据

  * 数据源使用 `Snapshot` 表（已有模型），字段：`at`, `totalAssets`

  * 返回结构：`[{ date: 'YYYY-MM-DD', totalAssets: number }]`

* 若暂时无快照数据：

  * 返回当前总资产的若干点（例如最近 14 天）用于占位显示（平直线），以便前端先呈现样式

* 可选增强：新增 `POST /api/trend/snapshot` 手动记录当前总资产快照（登录后使用），后续可配置定时任务生成

## 前端实现

* 新增 `components/TrendChart.tsx`

  * 客户端组件，动态导入 `echarts-for-react`

  * 接口拉取 `/api/trend` 数据

  * 视觉样式：

    * 平滑曲线（`smooth: true`）+ 渐变填充（主色到透明）

    * 格式化坐标轴与 Tooltip（金额显示统一两位小数）

    * 主题颜色与当前 Tailwind 主题匹配（primary、muted）

  * 空数据时展示占位文案

* 更新 `app/dashboard/page.tsx`：在汇总卡片下方加入趋势图卡片（`Card` 包裹）

## 交互与体验

* Tooltip 显示日期与金额

* Y 轴金额单位支持自动格式化（如 >= 1e4 显示 `10,000`，后续可加 `万/亿`）

* 响应式宽度，容器宽度自适应

## 性能与工程

* 后端接口默认限制 30 条（最近 30 天）

* 前端请求缓存（如页面内状态缓存）避免重复拉取

* 依赖：`echarts`、`echarts-for-react`

## 实施步骤

1. 安装依赖并新增 `components/TrendChart.tsx`（动态导入）
2. 新增 `GET /api/trend`，从 `Snapshot` 读取近 30 天数据并返回；无数据时提供占位趋势
3. 在 `dashboard` 页面汇总卡片下插入趋势图卡片
4. 可选：新增 `POST /api/trend/snapshot`，登录后手动写入当天快照
5. 本地与 Render 环境验证样式与数据拉取

## 验收标准

* Dashboard 展示美观的总资产趋势图；悬浮提示与坐标轴格式正确

* 无数据时仍能正常显示占位趋势；有快照数据后自动显示真实曲线

* 接口返回稳定、前端加载平滑、与主题一致

<br />

时间周期最好是有几个标签可选，最近一个月，最近半年，最近一年；

<br />

